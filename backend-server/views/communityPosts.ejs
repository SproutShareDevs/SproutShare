<!DOCTYPE html>

<html>
   <head>
      <title>Comm</title>
   </head>
   <body>
      <%-include('layouts/navbar');-%>
      <h1>Community Posts</h1>
      <br/>
      <br/>
      <br/>
      <form action="/communityPosts/store" method="post" enctype="application/x-www-form-urlencoded">
         <label for="user_ID">User ID</label>
         <input type="text" name="user_ID">

         <label for="comm_post_title">Title</label>
         <input type="text" name="comm_post_title">

         <label for="comm_post_body">Body</label>
         <input type="text" name="comm_post_body">

         <button type="submit">Submit</button>
      </form>
      <br />
      <form action="/communityPosts/id" method="get">
         <input type="text" name="id"  placeholder = "Search by id..." >
         <button type="submit">Submit</button>
      </form>
      <br/>
      <form action="/communityPosts/query" method="get">
         <input type="text" name="string"  placeholder = "Search by description..." >
         <button type="submit">Submit</button>
      </form>
      <br/>
      
      <% if (typeof commPosts !== 'undefined') { %>
         <div>
            <% commPosts.forEach(post => { %>
               <%= "{" %> 
               <div>ID: <%=post._id%></div> 
               <div>User ID: <%=post.user_ID%></div>
               <div>Date: <%=post.comm_post_date%></div>
               <div>Title: <%=post.comm_post_title%></div>
               <div>Body: <%=post.comm_post_body%></div>
               <%= "}" %> 
               <br/><!--The buttons below this comment currently do not work-->
               <button class = "edit-record">Edit</button>&emsp;<button class = "delete-record" ty>Delete</button>
               <br/>
            <% }) %>
         </div>
      <% } %>
   </body>
</html>